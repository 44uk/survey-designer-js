<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>SurveyDesinger Editor</title>
    <!--
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css"/>
    -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <style>
      #global-navigation {
        height: 36px;
        background-color: black;
        color: white;
      }
      #root {
        height: calc(100% - 36px);
      }
    </style>
  </head>
  <body>
    <div id="global-navigation">
      Header
    </div>
    <div id="root">
    </div>
    <script src="js/jquery.min.js"></script>
    <script src="js/tinymce.min.js"></script>
    <script src="js/editor.bundle.js"></script>
    <script>
$.getJSON('/sample.json').then(function(survey) {
  var el = document.getElementById('root');
  var params = {};
  location.search.substr(1).split(/&/).forEach(function(token) {
    var keyValue = token.split(/=/);
    if (keyValue.length !== 2) return;
    var ret = {};
    params[decodeURIComponent(keyValue[0])] = decodeURIComponent(keyValue[1]);
  });
  var options = {
    previewUrl: 'preview.html' + location.search,
    showDetailUrl: 'detail.html' + location.search,
    css: params.css || 'js/default.css',
  };
  SurveyDesigner.Editor(el, {
    survey: survey,
    options: options
  });
});
    </script>
  </body>
</html>
